var we=Object.defineProperty;var ye=(l,c,w)=>c in l?we(l,c,{enumerable:!0,configurable:!0,writable:!0,value:w}):l[c]=w;var _r=(l,c,w)=>ye(l,typeof c!="symbol"?c+"":c,w);(function(){"use strict";async function l(_={}){var cr,vr,ur;var h,i=_,d=!!globalThis.window,y=!!globalThis.WorkerGlobalScope,u=((vr=(cr=globalThis.process)==null?void 0:cr.versions)==null?void 0:vr.node)&&((ur=globalThis.process)==null?void 0:ur.type)!="renderer";if(u){const{createRequire:r}=await Promise.resolve().then(function(){return hr});var E=r(self.location.href)}var R="./this.program",B=(r,e)=>{throw e},L=self.location.href,N="";function pr(r){return i.locateFile?i.locateFile(r,N):N+r}var z,C;if(u){var G=E("fs");L.startsWith("file:")&&(N=E("path").dirname(E("url").fileURLToPath(L))+"/"),C=r=>{r=K(r)?new URL(r):r;var e=G.readFileSync(r);return e},z=async(r,e=!0)=>{r=K(r)?new URL(r):r;var t=G.readFileSync(r,e?void 0:"utf8");return t},process.argv.length>1&&(R=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),B=(r,e)=>{throw process.exitCode=r,e}}else if(d||y){try{N=new URL(".",L).href}catch{}y&&(C=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),z=async r=>{var e=await fetch(r,{credentials:"same-origin"});if(e.ok)return e.arrayBuffer();throw new Error(e.status+" : "+e.url)}}var J=console.log.bind(console),T=console.error.bind(console),A,O=!1,K=r=>r.startsWith("file://"),W,H,S,U,v,X,Q=!1;function Y(){var r=I.buffer;S=new Int8Array(r),i.HEAPU8=U=new Uint8Array(r),v=new Uint32Array(r),X=new BigInt64Array(r),new BigUint64Array(r)}function gr(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)kr(i.preRun.shift());Z(x)}function mr(){Q=!0,P.w()}function wr(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Ur(i.postRun.shift());Z(q)}function D(r){var t;(t=i.onAbort)==null||t.call(i,r),r="Aborted("+r+")",T(r),O=!0,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw H==null||H(e),e}var j;function yr(){return i.locateFile?pr("cspuz_solver_backend.wasm"):new URL(""+new URL("cspuz_solver_backend.wasm",self.location.href).href,self.location.href).href}function br(r){if(r==j&&A)return new Uint8Array(A);if(C)return C(r);throw"both async and sync fetching of the wasm failed"}async function dr(r){if(!A)try{var e=await z(r);return new Uint8Array(e)}catch{}return br(r)}async function Rr(r,e){try{var t=await dr(r),n=await WebAssembly.instantiate(t,e);return n}catch(a){T(`failed to asynchronously prepare wasm: ${a}`),D(a)}}async function Tr(r,e,t){if(!r&&!u)try{var n=fetch(e,{credentials:"same-origin"}),a=await WebAssembly.instantiateStreaming(n,t);return a}catch(s){T(`wasm streaming compile failed: ${s}`),T("falling back to ArrayBuffer instantiation")}return Rr(e,t)}function Er(){var r={a:fe};return r}async function Ar(){function r(s,o){return P=s.exports,oe(P),Y(),P}function e(s){return r(s.instance)}var t=Er();if(i.instantiateWasm)return new Promise((s,o)=>{i.instantiateWasm(t,(f,b)=>{s(r(f))})});j??(j=yr());var n=await Tr(A,j,t),a=e(n);return a}class Sr{constructor(e){_r(this,"name","ExitStatus");this.message=`Program terminated with exit(${e})`,this.status=e}}var Z=r=>{for(;r.length>0;)r.shift()(i)},q=[],Ur=r=>q.push(r),x=[],kr=r=>x.push(r),rr=!0,p=r=>ar(r),g=()=>sr(),er=globalThis.TextDecoder&&new TextDecoder,Pr=(r,e,t,n)=>{for(var a=e+t;r[e]&&!(e>=a);)++e;return e},tr=(r,e=0,t,n)=>{var a=Pr(r,e,t);if(a-e>16&&r.buffer&&er)return er.decode(r.subarray(e,a));for(var s="";e<a;){var o=r[e++];if(!(o&128)){s+=String.fromCharCode(o);continue}var f=r[e++]&63;if((o&224)==192){s+=String.fromCharCode((o&31)<<6|f);continue}var b=r[e++]&63;if((o&240)==224?o=(o&15)<<12|f<<6|b:o=(o&7)<<18|f<<12|b<<6|r[e++]&63,o<65536)s+=String.fromCharCode(o);else{var lr=o-65536;s+=String.fromCharCode(55296|lr>>10,56320|lr&1023)}}return s},$=(r,e,t)=>r?tr(U,r,e):"",Br=(r,e,t,n)=>D(`Assertion failed: ${$(r)}, at: `+[e?$(e):"unknown filename",t,n?$(n):"unknown function"]),M=0;class Nr{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){v[this.ptr+4>>2]=e}get_type(){return v[this.ptr+4>>2]}set_destructor(e){v[this.ptr+8>>2]=e}get_destructor(){return v[this.ptr+8>>2]}set_caught(e){e=e?1:0,S[this.ptr+12]=e}get_caught(){return S[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,S[this.ptr+13]=e}get_rethrown(){return S[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){v[this.ptr+16>>2]=e}get_adjusted_ptr(){return v[this.ptr+16>>2]}}var F=r=>ir(r),Cr=r=>{var e=M;if(!e)return F(0),0;var t=new Nr(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return F(0),e;for(var a of r){if(a===0||a===n)break;var s=t.ptr+16;if(or(a,n,s))return F(a),e}return F(n),e},Wr=()=>Cr([]),Hr=r=>{throw M||(M=r),M},Mr=(r,e)=>{},Fr=()=>D(""),Ir=()=>performance.now(),Lr=()=>Date.now(),zr=r=>r>=0&&r<=3;function Or(r,e,t){if(!zr(r))return 28;var n;r===0?n=Lr():n=Ir();var a=Math.round(n*1e3*1e3);return X[t>>3]=BigInt(a),0}var Dr=()=>2147483648,jr=(r,e)=>Math.ceil(r/e)*e,$r=r=>{var e=I.buffer.byteLength,t=(r-e+65535)/65536|0;try{return I.grow(t),Y(),1}catch{}},Vr=r=>{var e=U.length;r>>>=0;var t=Dr();if(r>t)return!1;for(var n=1;n<=4;n*=2){var a=e*(1+.2/n);a=Math.min(a,r+100663296);var s=Math.min(t,jr(Math.max(r,a),65536)),o=$r(s);if(o)return!0}return!1},V={},Gr=()=>R||"./this.program",k=()=>{if(!k.strings){var r=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:Gr()};for(var t in V)V[t]===void 0?delete e[t]:e[t]=V[t];var n=[];for(var t in e)n.push(`${t}=${e[t]}`);k.strings=n}return k.strings},Jr=(r,e,t,n)=>{if(!(n>0))return 0;for(var a=t,s=t+n-1,o=0;o<r.length;++o){var f=r.codePointAt(o);if(f<=127){if(t>=s)break;e[t++]=f}else if(f<=2047){if(t+1>=s)break;e[t++]=192|f>>6,e[t++]=128|f&63}else if(f<=65535){if(t+2>=s)break;e[t++]=224|f>>12,e[t++]=128|f>>6&63,e[t++]=128|f&63}else{if(t+3>=s)break;e[t++]=240|f>>18,e[t++]=128|f>>12&63,e[t++]=128|f>>6&63,e[t++]=128|f&63,o++}}return e[t]=0,t-a},Kr=(r,e,t)=>Jr(r,U,e,t),Xr=(r,e)=>{var t=0,n=0;for(var a of k()){var s=e+t;v[r+n>>2]=s,t+=Kr(a,s,1/0)+1,n+=4}return 0},Qr=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++t):e+=3}return e},Yr=(r,e)=>{var t=k();v[r>>2]=t.length;var n=0;for(var a of t)n+=Qr(a)+1;return v[e>>2]=n,0},Zr=0,qr=()=>rr||Zr>0,xr=r=>{var e;qr()||((e=i.onExit)==null||e.call(i,r),O=!0),B(r,new Sr(r))},re=(r,e)=>{xr(r)},ee=re,te=r=>52;function ne(r,e,t,n){return 70}var ie=[null,[],[]],ae=(r,e)=>{var t=ie[r];e===0||e===10?((r===1?J:T)(tr(t)),t.length=0):t.push(e)},se=(r,e,t,n)=>{for(var a=0,s=0;s<t;s++){var o=v[e>>2],f=v[e+4>>2];e+=8;for(var b=0;b<f;b++)ae(r,U[o+b]);a+=f}return v[n>>2]=a,0},nr=[],m=r=>{var e=nr[r];return e||(nr[r]=e=fr.get(r)),e};if(i.noExitRuntime&&(rr=i.noExitRuntime),i.print&&(J=i.print),i.printErr&&(T=i.printErr),i.wasmBinary&&(A=i.wasmBinary),i.arguments&&i.arguments,i.thisProgram&&(R=i.thisProgram),i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.shift()();var ir,ar,sr,or,I,fr;function oe(r){i._solve_problem=r.y,i._enumerate_answers_problem=r.z,i._free=r.A,i._malloc=r.B,ir=r.C,ar=r.D,sr=r.E,or=r.F,I=r.v,fr=r.x}var fe={a:Br,b:Wr,c:Hr,o:Mr,r:Fr,q:Or,m:Vr,s:Xr,t:Yr,i:ee,p:te,n:ne,k:se,j:le,g:pe,u:ge,d:ce,e:ve,f:ue,l:he,h:_e};function ce(r,e){var t=g();try{m(r)(e)}catch(n){if(p(t),n!==n+0)throw n;_setThrew(1,0)}}function ve(r,e,t){var n=g();try{m(r)(e,t)}catch(a){if(p(n),a!==a+0)throw a;_setThrew(1,0)}}function ue(r,e,t,n){var a=g();try{m(r)(e,t,n)}catch(s){if(p(a),s!==s+0)throw s;_setThrew(1,0)}}function le(r,e){var t=g();try{return m(r)(e)}catch(n){if(p(t),n!==n+0)throw n;_setThrew(1,0)}}function _e(r,e,t,n,a,s){var o=g();try{m(r)(e,t,n,a,s)}catch(f){if(p(o),f!==f+0)throw f;_setThrew(1,0)}}function he(r,e,t,n,a){var s=g();try{m(r)(e,t,n,a)}catch(o){if(p(s),o!==o+0)throw o;_setThrew(1,0)}}function pe(r,e,t,n){var a=g();try{return m(r)(e,t,n)}catch(s){if(p(a),s!==s+0)throw s;_setThrew(1,0)}}function ge(r,e,t,n,a,s){var o=g();try{return m(r)(e,t,n,a,s)}catch(f){if(p(o),f!==f+0)throw f;_setThrew(1,0)}}function me(){gr();function r(){var e;i.calledRun=!0,!O&&(mr(),W==null||W(i),(e=i.onRuntimeInitialized)==null||e.call(i),wr())}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),r()},1)):r()}var P;return P=await Ar(),me(),Q?h=i:h=new Promise((r,e)=>{W=r,H=e}),h}let c=null;function w(_){const h=_.url,i=_.numAnswers||0,d=new TextEncoder().encode(h),y=c._malloc(d.length);c.HEAPU8.set(d,y);let u;i<=0?u=c._solve_problem(y,d.length):u=c._enumerate_answers_problem(y,d.length,i),c._free(y);const E=c.HEAPU8[u]|c.HEAPU8[u+1]<<8|c.HEAPU8[u+2]<<16|c.HEAPU8[u+3]<<24,R=new TextDecoder().decode(c.HEAPU8.slice(u+4,u+4+E)),B=JSON.parse(R.substring(0,R.length));self.postMessage(B.description)}self.onmessage=function(_){const h=_.data;c?w(h):l().then(i=>{c=i,w(h)})},l().then(_=>{c=_});var hr=Object.freeze({__proto__:null})})();
